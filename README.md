# ğŸ›¡ï¸ QR-SHIELD

<div align="center">

```
   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
  â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—      â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
  â–ˆâ–ˆâ•‘â–„â–„ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â•â•â•â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
   â•šâ•â•â–€â–€â•â• â•šâ•â•  â•šâ•â•      â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â• 
                                                                   
            ğŸ” Kotlin Multiplatform QRishing Detector ğŸ”
```

[![Kotlin](https://img.shields.io/badge/Kotlin-1.9.22-7F52FF?style=for-the-badge&logo=kotlin&logoColor=white)](https://kotlinlang.org)
[![KMP](https://img.shields.io/badge/Kotlin_Multiplatform-Enabled-7F52FF?style=for-the-badge&logo=kotlin&logoColor=white)](https://kotlinlang.org/docs/multiplatform.html)
[![Compose](https://img.shields.io/badge/Compose_Multiplatform-1.6.0-4285F4?style=for-the-badge&logo=jetpackcompose&logoColor=white)](https://www.jetbrains.com/lp/compose-multiplatform/)
[![Android](https://img.shields.io/badge/Android-3DDC84?style=for-the-badge&logo=android&logoColor=white)](https://developer.android.com)
[![iOS](https://img.shields.io/badge/iOS-000000?style=for-the-badge&logo=apple&logoColor=white)](https://developer.apple.com/ios/)
[![Desktop](https://img.shields.io/badge/Desktop-JVM-007396?style=for-the-badge&logo=openjdk&logoColor=white)](https://www.jetbrains.com/lp/compose-multiplatform)
[![Web](https://img.shields.io/badge/Web-JS-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)](https://kotlinlang.org/docs/js-overview.html)
[![License](https://img.shields.io/badge/License-Apache_2.0-blue?style=for-the-badge)](LICENSE)
[![CI](https://img.shields.io/github/actions/workflow/status/Raoof128/QDKMP-KotlinConf-2026-/ci.yml?style=for-the-badge&logo=github&label=CI)](https://github.com/Raoof128/QDKMP-KotlinConf-2026-/actions)
[![Coverage](https://img.shields.io/badge/coverage-56%25-yellow?style=for-the-badge&logo=codecov)](https://github.com/Raoof128/QDKMP-KotlinConf-2026-)

**Scan QR codes. Detect phishing. Stay protected on Android, iOS, Desktop, and Web.**

<a href="https://raoof128.github.io/"><img src="https://img.shields.io/badge/ğŸŒ_Try_Live_Demo-7F52FF?style=for-the-badge" alt="Live Demo"></a>
<a href="#-demo-video"><img src="https://img.shields.io/badge/ğŸ¬_Watch_Demo-FF0000?style=for-the-badge&logo=youtube" alt="Demo Video"></a>

[Features](#-features) â€¢ [Architecture](#-architecture) â€¢ [Quick Start](#-quick-start) â€¢ [Documentation](#-documentation) â€¢ [Contributing](#-contributing)

</div>

---

## ğŸ“‹ Table of Contents

- [The Problem](#-the-problem-qrishing-is-exploding)
- [Features](#-features)
- [Architecture](#-architecture)
- [Technology Stack](#-technology-stack)
- [Quick Start](#-quick-start)
- [Risk Scoring](#-risk-scoring)
- [Documentation](#-documentation)
- [Testing](#-testing)
- [Security](#-security)
- [Contributing](#-contributing)
- [License](#-license)

---

## ğŸ¯ Elevator Pitch

> **"QRishing attacks have increased 587% since 2023. QR-SHIELD is the first Kotlin Multiplatform solution that provides real-time phishing detection across Android, iOS, Desktop, and Webâ€”with a single shared codebase."**

QR-SHIELD scans QR codes from your camera or gallery, extracts embedded URLs, and uses a sophisticated multi-layer analysis engine combining **cybersecurity heuristics**, **ML-lite scoring**, and **brand impersonation detection** to protect users from QRishing (QR code phishing) attacks.

---

## ğŸš¨ The Problem: QRishing is Exploding

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    QRishing Attack Landscape 2025                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ 587% increase in QR-based phishing attacks since 2023          â”‚
â”‚  ğŸ“± 71% of users don't verify URLs before scanning QR codes        â”‚
â”‚  ğŸ¦ Banking & financial services: #1 impersonated sector           â”‚
â”‚  ğŸ“§ Corporate email QR codes: fastest growing attack vector        â”‚
â”‚  ğŸŒ Cross-platform attacks: single QR, multiple device targets     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**QRishing** exploits user trust in QR codesâ€”those ubiquitous squares at restaurants, parking meters, and corporate communications. Attackers embed malicious URLs that redirect to credential harvesting sites, malware downloads, or social engineering traps.

---

## ğŸ¬ Demo Video

<div align="center">

[![Demo Video](https://img.shields.io/badge/â–¶ï¸_Watch_3--Minute_Demo-FF0000?style=for-the-badge&logo=youtube&logoColor=white)](https://www.youtube.com/watch?v=DEMO_PENDING)

**See QR-SHIELD in action across all platforms:**

| Platform | Feature Demonstrated |
|----------|---------------------|
| ğŸ“± Android | Real-time camera scanning with ML Kit |
| ğŸ iOS | Native Vision framework integration |
| ğŸ–¥ï¸ Desktop | Cross-platform Compose UI |
| ğŸŒ Web | Browser-based scanning with jsQR |

**Detection Examples:**
- âœ… **Safe URL** (google.com) â†’ Score: 8, Verdict: SAFE
- âš ï¸ **Suspicious URL** (bit.ly/xyz) â†’ Score: 45, Verdict: SUSPICIOUS  
- âŒ **Malicious URL** (paypa1-secure.tk) â†’ Score: 87, Verdict: MALICIOUS

</div>

---

## âœ¨ Features

### ğŸ“· Multi-Source QR Scanning
- **Camera Scanning**: Real-time QR detection with ML Kit (Android) / Vision API (iOS)
- **Gallery Import**: Analyze QR codes from saved images
- **Clipboard Detection**: Scan URLs directly from clipboard
- **Batch Processing**: Analyze multiple QR codes simultaneously

### ğŸ” Intelligent Risk Analysis
- **URL Heuristics Engine**: 25+ risk signals analyzed
- **Brand Impersonation Detection**: Fuzzy matching against 500+ brands
- **TLD Risk Scoring**: Dangerous domain registry identification
- **Homograph Attack Detection**: Unicode/punycode lookalike detection
- **Path & Query Inspection**: Suspicious parameter analysis

### ğŸ¤– ML-Lite Phishing Scorer
- **On-device inference**: No cloud dependency
- **Logistic regression model**: Lightweight, fast, private
- **Feature extraction**: 15+ URL characteristics
- **Confidence scoring**: Probabilistic risk assessment

### ğŸ¨ Beautiful Cross-Platform UI
- **Compose Multiplatform**: Shared UI across all platforms
- **Dark/Light themes**: System-aware theming
- **Accessibility**: Screen reader support, large text
- **Animations**: Smooth, engaging micro-interactions

### ğŸ”’ Privacy-First Design
- **100% offline capable**: No data leaves device
- **No telemetry**: Zero tracking
- **Local history**: Encrypted local storage
- **Open source**: Full audit transparency

---

## ğŸ“Š Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           QR-SHIELD ARCHITECTURE                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Android   â”‚  â”‚     iOS     â”‚  â”‚   Desktop   â”‚  â”‚     Web     â”‚
â”‚  (ML Kit)   â”‚  â”‚  (Vision)   â”‚  â”‚   (ZXing)   â”‚  â”‚   (jsQR)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                â”‚                â”‚                â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Compose Multiplatform â”‚
                    â”‚         UI Layer        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚                           â”‚
                  â”‚     ğŸ“¦ COMMON MODULE      â”‚
                  â”‚     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
                  â”‚                           â”‚
                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                  â”‚  â”‚   PhishingEngine    â”‚  â”‚
                  â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚
                  â”‚  â”‚  â€¢ HeuristicsEngine â”‚  â”‚
                  â”‚  â”‚  â€¢ BrandDetector    â”‚  â”‚
                  â”‚  â”‚  â€¢ TldScorer        â”‚  â”‚
                  â”‚  â”‚  â€¢ MLModel          â”‚  â”‚
                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                  â”‚              â”‚            â”‚
                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                  â”‚  â”‚    RiskScorer       â”‚  â”‚
                  â”‚  â”‚    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚  â”‚
                  â”‚  â”‚  Combined Score     â”‚  â”‚
                  â”‚  â”‚  Verdict Engine     â”‚  â”‚
                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                  â”‚                           â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   VERDICT OUTPUT      â”‚
                    â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
                    â”‚  SAFE | SUSPICIOUS |  â”‚
                    â”‚      MALICIOUS        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ§© Kotlin Multiplatform Source Sets

```
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚     commonMain      â”‚
                          â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
                          â”‚  â€¢ PhishingEngine   â”‚
                          â”‚  â€¢ HeuristicsEngine â”‚
                          â”‚  â€¢ BrandDetector    â”‚
                          â”‚  â€¢ MLModel          â”‚
                          â”‚  â€¢ SharedViewModel  â”‚
                          â”‚  â€¢ ShareManager     â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                       â”‚                       â”‚
            â–¼                       â–¼                       â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   androidMain   â”‚    â”‚    iosMain      â”‚    â”‚   desktopMain   â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
   â”‚ AndroidQrScanner â”‚    â”‚  IosQrScanner   â”‚    â”‚DesktopQrScanner â”‚
   â”‚ (CameraX+MLKit)  â”‚    â”‚ (AVFoundation)  â”‚    â”‚    (ZXing)      â”‚
   â”‚ DatabaseDriver   â”‚    â”‚ DatabaseDriver  â”‚    â”‚ DatabaseDriver  â”‚
   â”‚    (SQLite)      â”‚    â”‚   (Native)      â”‚    â”‚    (JDBC)       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                          â”‚
                                                          â”‚
                                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                 â”‚     jsMain      â”‚
                                                 â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
                                                 â”‚  WebQrScanner   â”‚
                                                 â”‚    (jsQR)       â”‚
                                                 â”‚ DatabaseDriver  â”‚
                                                 â”‚ (sql.js Worker) â”‚
                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### expect/actual Pattern Example

```kotlin
// commonMain - Abstraction
expect class QrScannerFactory {
    fun create(): QrScanner  // Platform agnostic
}

// androidMain - Implementation
actual class QrScannerFactory(private val context: Context) {
    actual fun create(): QrScanner = AndroidQrScanner(context)
}

// iosMain - Implementation  
actual class QrScannerFactory {
    actual fun create(): QrScanner = IosQrScanner()  // Uses Vision.framework
}
```

### Data Flow

```
ğŸ“± QR Code â”€â”€â–º ğŸ” Scanner â”€â”€â–º ğŸ”— URL â”€â”€â–º ğŸ§ª Analysis â”€â”€â–º ğŸ“Š Score â”€â”€â–º âœ… Verdict
                                              â”‚
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â–¼                  â–¼                  â–¼
                    Heuristics           ML Model          Brand Check
                    (25+ rules)        (15 features)      (500+ brands)
```

### ğŸ† Technical Highlights

#### ğŸ Zero-Wrapper iOS Implementation (cinterop)

**QR-SHIELD uses Kotlin Native `cinterop` to access iOS `AVFoundation` framework directly from Kotlin code.**

This is our biggest technical achievementâ€”no Swift wrappers needed for camera access. Here's a side-by-side comparison:

<table>
<tr>
<th>Traditional Swift Implementation</th>
<th>QR-SHIELD Kotlin Native</th>
</tr>
<tr>
<td>

```swift
// Swift Code
import AVFoundation
import Vision

class Scanner {
    let session = AVCaptureSession()
    
    func scan() {
        let device = AVCaptureDevice
            .default(for: .video)
        let request = VNDetectBarcodesRequest()
        request.symbologies = [.qr]
    }
}
```

</td>
<td>

```kotlin
// Kotlin Code (iosMain)
import platform.AVFoundation.*
import platform.Vision.*

class IosQrScanner : QrScanner {
    private val session = AVCaptureSession()
    
    override fun scan() {
        val device = AVCaptureDevice
            .defaultDeviceWithMediaType(AVMediaTypeVideo)
        val request = VNDetectBarcodesRequest()
        request.symbologies = listOf(VNBarcodeSymbologyQR)
    }
}
```

</td>
</tr>
</table>

**Why this matters:**
- ğŸš« **No Swift bridge required** - Direct framework access from Kotlin
- ğŸ“¦ **Single codebase** - Same `QrScanner` interface on all platforms
- âš¡ **Native performance** - No FFI overhead, compiled to native ARM64
- ğŸ”’ **Type safety** - Kotlin compiler validates iOS API usage
```

#### ğŸ“± Swift 6 + SwiftUI iOS App

The iOS host app is built with **Swift 6.0 strict concurrency** and **iOS 26.2 Liquid Glass** design:

- `@Observable` macro for reactive state
- `@MainActor` isolation for thread safety
- Native `AVCaptureSession` + `Vision` framework
- Seamless integration with KMP `common.framework`

#### ğŸ’¾ SQLDelight Cross-Platform Persistence

Scan history persists across app restarts on ALL platforms:

```kotlin
// commonMain - Platform-agnostic repository
class SqlDelightHistoryRepository(database: QRShieldDatabase) : HistoryRepository {
    private val queries = database.scanHistoryQueries
    
    override fun observe(): Flow<List<ScanHistoryItem>> = 
        queries.getAll().asFlow().mapToList()
    
    override suspend fun insert(item: ScanHistoryItem) {
        queries.insert(item.id, item.url, item.score.toLong(), item.verdict.name, item.scannedAt)
    }
}

// Platform-specific drivers:
// - Android: android.database.sqlite.SQLiteDatabase
// - iOS: NativeSQLite (K/N + cinterop)
// - Desktop: JDBC SQLite
// - Web: sql.js (WebAssembly)
```


---

## ï¸ Technology Stack

| Layer | Technology | Purpose |
|-------|------------|---------|
| **Language** | Kotlin 2.0.0 | Cross-platform business logic |
| **UI Framework** | Compose Multiplatform 1.6.0 | Shared declarative UI |
| **Async** | Kotlin Coroutines + Flow | Reactive programming |
| **DI** | Koin Multiplatform | Dependency injection |
| **Networking** | Ktor Client | Optional URL expansion |
| **Persistence** | SQLDelight | Cross-platform database |
| **Android Camera** | ML Kit Barcode Scanning | Native QR detection |
| **iOS Camera** | AVFoundation + Vision | Native QR detection |
| **Desktop Camera** | ZXing + OpenCV | JVM QR detection |
| **Web Camera** | jsQR + MediaDevices | Browser QR detection |
| **Testing** | kotlin.test, Kotest | Unit & integration tests |

---

## ï¿½ğŸš€ Quick Start

### Prerequisites

- **JDK 17+**
- **Android Studio Hedgehog (2023.1.1)** or IntelliJ IDEA
- **Xcode 15+** (for iOS)
- **Kotlin 2.0.0**

### Clone & Build

```bash
# Clone the repository
git clone https://github.com/yourusername/qrshield.git
cd qrshield

# Build all platforms
./gradlew build

# Run Android
./gradlew :androidApp:installDebug

# Run Desktop
./gradlew :desktopApp:run

# Run Web (development server)
./gradlew :webApp:jsBrowserDevelopmentRun
```

### iOS Setup

```bash
cd iosApp
pod install
open QRShield.xcworkspace
# Build and run in Xcode
```

---

## ğŸ“ˆ Risk Scoring

### Scoring Formula

```kotlin
Final Score = (
    Heuristic Score Ã— 0.40 +
    ML Model Score Ã— 0.35 +
    Brand Impersonation Score Ã— 0.15 +
    TLD Risk Score Ã— 0.10
) Ã— 100
```

### Verdict Thresholds

| Score Range | Verdict | Action |
|-------------|---------|--------|
| 0-30 | âœ… **SAFE** | URL appears safe to visit |
| 31-70 | âš ï¸ **SUSPICIOUS** | Proceed with caution |
| 71-100 | âŒ **MALICIOUS** | Do not visit this URL |

### Heuristic Rules (25+)

| Rule | Weight | Description |
|------|--------|-------------|
| `HTTP_NOT_HTTPS` | 15 | No TLS/SSL encryption |
| `IP_ADDRESS_HOST` | 20 | IP instead of domain name |
| `EXCESSIVE_SUBDOMAINS` | 10 | More than 3 subdomain levels |
| `SUSPICIOUS_TLD` | 12 | High-risk TLDs (.tk, .ml, .ga) |
| `URL_SHORTENER` | 8 | Redirect service detected |
| `BRAND_IMPERSONATION` | 25 | Brand name in subdomain |
| `HOMOGRAPH_ATTACK` | 30 | Unicode lookalike characters |
| `CREDENTIAL_PARAMS` | 18 | Password/token in query |

---

## ğŸ“š Documentation

| Document | Description |
|----------|-------------|
| [Essay](ESSAY.md) | Competition essay (motivation & journey) |
| [Architecture](docs/ARCHITECTURE.md) | System architecture & design |
| [API Reference](docs/API.md) | Complete API documentation |
| [Master Pack](docs/MASTER_PACK.md) | Complete project overview |
| [UI Design System](docs/UI_DESIGN_SYSTEM.md) | Colors, typography, components |
| [Threat Model](docs/THREAT_MODEL.md) | Attack vectors & defenses |
| [Compliance](docs/COMPLIANCE.md) | ACSC, Privacy Act, ISO mapping |
| [Competition Pitch](docs/PITCH.md) | Presentation materials |
| [Demo Script](docs/DEMO_SCRIPT.md) | Video storyboard |
| [Changelog](CHANGELOG.md) | Version history |
| [Security Policy](SECURITY.md) | Vulnerability reporting |
| [Contributing](CONTRIBUTING.md) | Contribution guidelines |
| [Code of Conduct](CODE_OF_CONDUCT.md) | Community standards |

---

## ğŸ§ª Testing

```bash
# Run all tests
./gradlew allTests

# Run common module tests only
./gradlew :common:testDebugUnitTest

# Run with coverage report
./gradlew koverReport
```

### Test Coverage

- **PhishingEngine**: URL analysis orchestration
- **HeuristicsEngine**: 25+ rule validation
- **BrandDetector**: Typosquat & homograph detection
- **TldScorer**: TLD risk classification
- **RiskScorer**: Combined score calculation

---

## ğŸ”’ Security

| Aspect | Implementation |
|--------|----------------|
| **Data at Rest** | AES-256 encrypted local database |
| **Data in Transit** | No data leaves device (offline-first) |
| **URL Expansion** | Optional Ktor client with TLS 1.3 |
| **Secrets** | No API keys in codebase |
| **Privacy** | Zero telemetry, zero tracking |

See [SECURITY.md](SECURITY.md) for vulnerability reporting guidelines.

---

## ğŸ¤ Contributing

We welcome contributions! Please see our [Contributing Guide](CONTRIBUTING.md).

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---

## ğŸ“œ License

This project is licensed under the Apache License 2.0 - see the [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

- **JetBrains** - For Kotlin and Compose Multiplatform
- **Google** - For ML Kit barcode scanning
- **Security Researchers** - For phishing heuristics research
- **Open Source Community** - For inspiration and libraries

---

<div align="center">

**Made with ğŸ’œ using Kotlin Multiplatform**

*Protecting users from QRishing attacksâ€”one scan at a time.*

â­ Star us on GitHub if you find this useful!

</div>
